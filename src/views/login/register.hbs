<div class="block mx-auto my-12 p-8 bg-white w-1/3 border border-gray-200 rounded-lg shadow-lg">
  <h1 class="text-3xl m-6 font-bold text-center">REGISTER</h1>

  <form action="/register" method="POST" class="mt-4">

    <input type="text" name="fullname" placeholder="Nombre y Apellido"
      class="border border-gray-200 w-full text-lg placeholder-gray-500 p-2 my-2 focus:bg-white" required>

    <input type="text" name="username" placeholder="Nombre de usuario"
      class="border border-gray-200 w-full text-lg placeholder-gray-500 p-2 my-2 focus:bg-white" required>

    <input type="email" name="email" placeholder="Correo electrónico"
      class="border border-gray-200 w-full text-lg placeholder-gray-500 p-2 my-2 focus:bg-white" required>

    <input type="password" id="password" name="password" placeholder="Contraseña"
      class="border border-gray-200 w-full text-lg placeholder-gray-500 p-2 my-2 focus:bg-white" required>

    <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirmar contraseña"
      class="border border-gray-200 w-full text-lg placeholder-gray-500 p-2 my-2 focus:bg-white" required>

    <!-- ✅ Google reCAPTCHA -->
    <div class="g-recaptcha my-3" data-sitekey="6LdSugcsAAAAAM0E9T-aTzPtRq8N-Zkq-xPZ8oBA"></div>

    <button type="submit"
      class="border border-gray-200 bg-green-500 w-full text-lg text-white font-semibold p-2 my-3 hover:bg-green-600 focus:bg-green-700">
      Registrar
    </button>

    <!-- ✅ Mensaje de error -->
    {{#if error}}
    <div class="alert alert-danger" style="color: red; font-weight: bold;">
      {{error}}
    </div>
    {{/if}}
  </form>
</div>

<script>
  // Validar que ambas contraseñas coincidan antes de enviar
  const form = document.querySelector('form');
  form.addEventListener('submit', function (e) {
    const pass = document.getElementById('password').value;
    const confirm = document.getElementById('confirm_password').value;
    if (pass !== confirm) {
      e.preventDefault();
      alert('Las contraseñas no coinciden.');
    }
  });
</script>

<!-- Cargar el script de Google reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
